{% extends "main/layout.html" %}
{% block content%}
<style> 
body {padding-bottom: 50px}
    
@media (min-width: 992px) {
body {padding-bottom:0}
}
</style>
<div class="container px-0">
	<a href="{{url_for('campaigns.getCampaignById', id=campaign.id ) }}" class="btn btn-outline-secondary btn-sm"><i class="fas fa-caret-left"></i> {{ campaign.campaign_name }}: Home Page</a>
</div>

<div class="container px-0">
 
    <div class="img-holder">
        <img src="default.jpg" alt=""> <!-- src updated by JavaScript -->
    </div>
    
    <div id="edit_image_info" class="bg-light">
        <div class="image-desc">
			<p>{{ _('File') }}:&nbsp;<span id="image_name"></span></p>
			<p>{{ _('Description') }}:&nbsp;<span id="image_description"></span></p>
			<p>{{ _('Categories') }}:&nbsp;<span id="image_categories"></span></p>
			<p>{{ _('Author') }}:&nbsp;<span id="image_author"></span></p>

        </div>
        <div class="text-center">
            <button class="btn btn-sm btn-link"><i class="fas fa-caret-down"></i>&nbsp;{{ _('show all metadata from commons') }}</button>
        </div>
    </div>
</div>


{% if campaign.depicts_metadata %}
  <div class="container edit-box">
    <div class="edit-box-header">
      <h4>{{ _('Depicts') }}</h4>
      <div edit-type="depicts" class="edit-publish-btn-group">
        <button class="btn btn-sm btn-link cancel-edits-btn">{{ _('Cancel') }}</button>
        <button type="submit" class="btn btn-sm btn-primary publish-edits-btn">{{ _('Save') }}</button>
      </div>
      <p>Search for things you see in the image</p>	
      </div>
    <div class="depicts-search">
      <div class="input-group mb-3">
        <div class="input-group-prepend">
          <span class="input-group-text"><i class="fas fa-search"></i></span>
        </div>
        <select id="depicts-select" class="form-control"></select>
      </div>
    </div>
    
    <div class="depict-tag-group">
        <!-- populated by JavaScript -->
    </div> 
  
  </div>
{% endif %}

{% if campaign.captions_metadata %}
  <div class="container edit-box">
  <div class="edit-box-header">
    <h4>{{ _('Caption') }}</h4>
    <div edit-type="captions" class="edit-publish-btn-group">
      <button class="btn btn-sm btn-link cancel-edits-btn">{{ _('Cancel') }}</button>
      <button type="submit" class="btn btn-sm btn-primary publish-edits-btn">{{ _('Save') }}</button>
    </div>
    <p>Add a captions for the image</p>	
    </div>
  <div class="depicts-search">
      
  
  <!-- Todo: Generate input groups from user languages on the server. ONLY the lang attribute on the <input> changes -->  
  <div class="input-group mb-3">
    <div class="input-group-prepend">
      <span class="input-group-text"><i class="fas fa-edit"></i></span>
    </div>
    <input type="input" class="form-control caption-input" lang="{{caption_language_pairs[0][0]}}" placeholder="write a caption">
  </div>

    {% for language_pair in caption_language_pairs %}
      {% if language_pair != caption_language_pairs[0] %}
        <div class="input-group mb-3" style="display: none">
          <div class="input-group-prepend">
            <span class="input-group-text"><i class="fas fa-edit"></i></span>
          </div>
          <input type="input" class="form-control caption-input" lang="{{language_pair[0]}}" placeholder="write a caption">
        </div>
      {% endif %}
    {% endfor %}
      
    </div>

  <div class="caption-lang-btn-group">
    <p>{{ _('Change Caption Language') }}</p>
  <div class="btn-group" role="group" aria-label="">
    <button class="btn btn-small btn-outline-secondary caption-language-btn active" lang="{{caption_language_pairs[0][0]}}">{{ _(caption_language_pairs[0][1]) }}</button>
    {% for language_pair in caption_language_pairs %}
      {% if language_pair != caption_language_pairs[0] %}
        <button class="btn btn-small btn-outline-secondary caption-language-btn" lang="{{language_pair[0]}}">{{ _(language_pair[1]) }}</button>
      {% endif %}
    {% endfor %}	
      </div>
      <button class="btn btn-sm btn-link">{{ _('CHOOSE AVAILABLE LANGUAGES') }}</button>
    </div>
  </div>

{% endif %}

 
<div class="participate-nav-footer container">
    <div class="btn-group d-flex" role="group" aria-label="">
        <button id="previous-image-btn" class="btn btn-primary w-100"><i class="fas fa-chevron-left"></i>PREV IMAGE</button>
        <button id="next-image-btn" class="btn btn-primary w-100">NEXT IMAGE<i class="fas fa-chevron-right"></i></button>
    </div> 
</div>



{% endblock content%}
{% block scripts %}
<script src="{{url_for('static', filename='js/category-members.js')}}"></script>
<script src="{{url_for('static', filename='js/participate.js')}}"></script>
{% endblock scripts%}